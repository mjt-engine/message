{"version":3,"file":"msgsBufferToCombinedUint8Array.js","sourceRoot":"","sources":["../src/msgsBufferToCombinedUint8Array.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,oBAAoB,CAAC;AAEjD,MAAM,CAAC,MAAM,8BAA8B,GAAG,CAC5C,MAAkC,EAClC,EAAE;IACF,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACvC,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;IACnD,CAAC;IACD,MAAM,WAAW,GAAI,MAAuB,CAAC,MAAM,CACjD,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,UAAU,EAC9B,CAAC,CACF,CAAC;IACF,MAAM,QAAQ,GAAG,IAAI,UAAU,CAAC,WAAW,CAAC,CAAC;IAC7C,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,KAAK,MAAM,IAAI,IAAI,MAAM,EAAE,CAAC;QAC1B,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;QAC9C,CAAC;QACD,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC3B,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC;IAC5B,CAAC;IACD,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC","sourcesContent":["import { isUndefined } from \"@mjt-engine/object\";\n\nexport const msgsBufferToCombinedUint8Array = (\n  buffer: (Uint8Array | undefined)[]\n) => {\n  if (buffer.some((m) => isUndefined(m))) {\n    throw new Error(\"Incomplete messages in buffer\");\n  }\n  const totalLength = (buffer as Uint8Array[]).reduce(\n    (acc, m) => acc + m.byteLength,\n    0\n  );\n  const combined = new Uint8Array(totalLength);\n  let offset = 0;\n  for (const item of buffer) {\n    if (isUndefined(item)) {\n      throw new Error(\"Undefined item in buffer\");\n    }\n    combined.set(item, offset);\n    offset += item.byteLength;\n  }\n  return combined;\n};\n"]}